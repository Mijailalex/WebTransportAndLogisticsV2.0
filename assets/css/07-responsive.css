/* ===================================
   PERU LOGISTICS - RESPONSIVE DESIGN
   Media Queries y Ajustes Responsivos Completos
   =================================== */

/* ===================================
   BREAKPOINTS DEFINIDOS
   - xs: 0px - 480px (móviles pequeños)
   - sm: 481px - 640px (móviles)
   - md: 641px - 768px (tablets pequeñas)
   - lg: 769px - 1024px (tablets)
   - xl: 1025px - 1280px (laptops)
   - 2xl: 1281px+ (desktop)
   =================================== */

/* ===================================
   EXTRA SMALL DEVICES (0px - 480px)
   Móviles pequeños
   =================================== */

@media (max-width: 480px) {
  /* Variables responsivas */
  :root {
    --header-height: 70px;
    --space-section: var(--space-8);
    --text-responsive-xl: var(--text-lg);
    --text-responsive-2xl: var(--text-xl);
    --text-responsive-3xl: var(--text-2xl);
  }

  /* Body padding ajustado para header fijo */
  body {
    padding-top: 70px !important;
  }

  /* Container ajustado */
  .container {
    padding: 0 var(--space-3);
    max-width: 100%;
  }

  /* Header y navegación */
  .header {
    height: 70px;
  }

  .nav {
    height: 70px;
  }

  .brand-logo {
    height: 35px;
    max-width: 140px;
  }

  .nav-toggle {
    width: 36px;
    height: 36px;
    padding: var(--space-1);
  }

  .nav-toggle-bar {
    width: 18px;
    height: 2px;
  }

  /* Tipografía responsiva */
  .hero-title,
  .page-title {
    font-size: var(--text-2xl);
    line-height: var(--leading-tight);
  }

  .section-title {
    font-size: var(--text-xl);
  }

  .hero-description,
  .page-subtitle {
    font-size: var(--text-base);
  }

  /* Secciones */
  .section {
    padding: var(--space-8) 0;
  }

  .section-lg {
    padding: var(--space-12) 0;
  }

  .section-header {
    margin-bottom: var(--space-6);
  }

  /* Hero ajustado */
  .hero {
    padding: var(--space-16) 0 var(--space-8);
    text-align: center;
  }

  .hero-layout {
    grid-template-columns: 1fr;
    gap: var(--space-6);
    min-height: 50vh;
  }

  .hero-actions {
    flex-direction: column;
    align-items: center;
    gap: var(--space-3);
  }

  .hero-actions .btn {
    width: 100%;
    max-width: 280px;
  }

  .hero-stats {
    grid-template-columns: 1fr;
    gap: var(--space-4);
    text-align: center;
  }

  /* Page Hero */
  .page-hero {
    padding: calc(var(--header-height) + var(--space-8)) 0 var(--space-8);
  }

  .page-nav-list {
    flex-direction: column;
    gap: var(--space-1);
  }

  .page-nav-link {
    padding: var(--space-1) var(--space-3);
    font-size: var(--text-xs);
  }

  /* Grids responsivos */
  .grid-2,
  .grid-3,
  .grid-4,
  .grid-5,
  .grid-6 {
    grid-template-columns: 1fr;
    gap: var(--space-4);
  }

  .features-grid,
  .services-grid,
  .news-grid,
  .benefits-grid,
  .values-grid,
  .offices-grid {
    grid-template-columns: 1fr;
    gap: var(--space-4);
  }

  /* Layouts específicos */
  .content-two-col,
  .hero-layout,
  .contact-layout,
  .service-detail-layout {
    grid-template-columns: 1fr;
    gap: var(--space-4);
  }

  /* Cards */
  .card {
    margin-bottom: var(--space-4);
  }

  .card-header,
  .card-body,
  .card-footer {
    padding: var(--space-4);
  }

  .card-title {
    font-size: var(--text-lg);
  }

  /* Botones */
  .btn {
    width: 100%;
    padding: var(--space-3) var(--space-4);
    font-size: var(--text-sm);
  }

  .btn-lg {
    padding: var(--space-3) var(--space-6);
    font-size: var(--text-base);
  }

  .btn-sm {
    padding: var(--space-2) var(--space-3);
    font-size: var(--text-xs);
  }

  /* Slider */
  .slider {
    height: 220px;
  }

  .slider-btn {
    width: 36px;
    height: 36px;
    font-size: var(--text-sm);
  }

  .slider-controls {
    padding: 0 var(--space-2);
  }

  /* Timeline */
  .timeline {
    margin-left: var(--space-2);
  }

  .timeline::before {
    left: 10px;
  }

  .timeline-item {
    margin-left: 40px;
    margin-bottom: var(--space-6);
  }

  .timeline-marker {
    left: -40px;
    width: 24px;
    height: 24px;
  }

  .timeline-year {
    font-size: 10px;
  }

  .timeline-content {
    padding: var(--space-4);
  }

  .timeline-title {
    font-size: var(--text-base);
  }

  /* Formularios */
  .contact-form-container {
    padding: var(--space-4);
  }

  .form-row {
    grid-template-columns: 1fr;
    gap: var(--space-3);
  }

  .form-title {
    font-size: var(--text-xl);
  }

  .radio-group,
  .checkbox-group {
    flex-direction: column;
    gap: var(--space-2);
  }

  /* FAQ */
  .faq-question {
    padding: var(--space-4);
  }

  .faq-title {
    font-size: var(--text-base);
  }

  .faq-answer p {
    padding: 0 var(--space-4) var(--space-4);
  }

  /* Footer */
  .footer {
    padding: var(--space-8) 0 var(--space-6);
  }

  .footer-layout {
    grid-template-columns: 1fr;
    gap: var(--space-6);
    text-align: center;
  }

  .footer-section {
    margin-bottom: var(--space-6);
  }

  /* Back to top */
  .back-to-top {
    bottom: var(--space-4);
    right: var(--space-4);
    width: 40px;
    height: 40px;
    font-size: var(--text-base);
  }

  /* CTA */
  .cta-title {
    font-size: var(--text-2xl);
  }

  .cta-actions {
    flex-direction: column;
    align-items: center;
    gap: var(--space-3);
  }

  .cta-actions .btn {
    width: 100%;
    max-width: 280px;
  }

  /* Iconos ajustados */
  .feature-icon,
  .service-icon,
  .value-icon,
  .benefit-icon,
  .responsibility-icon {
    width: 50px;
    height: 50px;
    font-size: var(--text-xl);
  }

  .vision-icon,
  .mission-icon {
    width: 60px;
    height: 60px;
    font-size: var(--text-2xl);
  }

  /* Stats responsive */
  .stats-grid,
  .team-stats,
  .impact-stats {
    grid-template-columns: 1fr;
    gap: var(--space-3);
  }

  .dashboard-stats {
    grid-template-columns: 1fr;
    gap: var(--space-2);
  }
}

/* ===================================
   SMALL DEVICES (481px - 640px)
   Móviles grandes
   =================================== */

@media (min-width: 481px) and (max-width: 640px) {
  /* Variables responsivas */
  :root {
    --header-height: 75px;
  }

  /* Body padding ajustado */
  body {
    padding-top: 75px !important;
  }

  .container {
    padding: 0 var(--space-4);
  }

  .header {
    height: 75px;
  }

  .nav {
    height: 75px;
  }

  .brand-logo {
    height: 40px;
    max-width: 160px;
  }

  /* Grids mejorados */
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }

  .hero-stats {
    grid-template-columns: repeat(2, 1fr);
  }

  /* Timeline mejorada */
  .timeline-marker {
    width: 30px;
    height: 30px;
  }

  .timeline-year {
    font-size: var(--text-xs);
  }

  /* Botones en línea cuando hay espacio */
  .hero-actions,
  .cta-actions {
    flex-direction: row;
    justify-content: center;
    flex-wrap: wrap;
  }

  .hero-actions .btn,
  .cta-actions .btn {
    width: auto;
    min-width: 140px;
  }
}

/* ===================================
   MEDIUM DEVICES (641px - 768px)
   Tablets pequeñas
   =================================== */

@media (min-width: 641px) and (max-width: 768px) {
  .container {
    padding: 0 var(--space-6);
  }

  /* Grids de 2 columnas */
  .grid-3,
  .grid-4,
  .grid-5,
  .grid-6 {
    grid-template-columns: repeat(2, 1fr);
  }

  .features-grid,
  .benefits-grid,
  .values-grid {
    grid-template-columns: repeat(2, 1fr);
  }

  /* Stats en 2x2 */
  .stats-grid {
    grid-template-columns: repeat(2, 1fr);
  }

  .hero-stats {
    grid-template-columns: repeat(3, 1fr);
  }

  /* Formularios */
  .form-row {
    grid-template-columns: repeat(2, 1fr);
  }

  /* Footer */
  .footer-layout {
    grid-template-columns: repeat(2, 1fr);
    text-align: left;
  }

  /* Timeline centrada */
  .timeline {
    margin-left: var(--space-8);
  }

  .timeline::before {
    left: 20px;
  }

  .timeline-item {
    margin-left: 60px;
  }

  .timeline-marker {
    left: -60px;
    width: 40px;
    height: 40px;
  }
}

/* ===================================
   LARGE DEVICES (769px - 1024px)
   Tablets grandes
   =================================== */

@media (min-width: 769px) and (max-width: 1024px) {
  .container {
    padding: 0 var(--space-8);
  }

  /* Navegación parcial */
  .nav-menu {
    display: none; /* Sigue siendo móvil */
  }

  /* Layouts mejorados */
  .content-two-col {
    grid-template-columns: 1fr 1fr;
    gap: var(--space-8);
  }

  .hero-layout {
    grid-template-columns: 1fr 1fr;
    gap: var(--space-8);
    min-height: 60vh;
  }

  /* Grids de 3 columnas */
  .grid-4,
  .grid-5,
  .grid-6 {
    grid-template-columns: repeat(3, 1fr);
  }

  .features-grid,
  .services-grid,
  .benefits-grid {
    grid-template-columns: repeat(3, 1fr);
  }

  .values-grid {
    grid-template-columns: repeat(3, 1fr);
  }

  /* Stats */
  .stats-grid {
    grid-template-columns: repeat(4, 1fr);
  }

  /* Contact layout */
  .contact-layout {
    grid-template-columns: 2fr 1fr;
    gap: var(--space-8);
  }

  /* Service detail */
  .service-detail-layout {
    grid-template-columns: 2fr 1fr;
    gap: var(--space-8);
  }

  /* Footer */
  .footer-layout {
    grid-template-columns: 2fr 1fr 1fr 1fr;
  }

  /* Timeline con más espacio */
  .timeline {
    margin-left: var(--space-12);
  }

  .timeline::before {
    left: 30px;
  }

  .timeline-item {
    margin-left: 80px;
  }

  .timeline-marker {
    left: -80px;
    width: 60px;
    height: 60px;
  }

  .timeline-year {
    font-size: var(--text-sm);
  }
}

/* ===================================
   EXTRA LARGE DEVICES (1025px+)
   Desktop
   =================================== */

@media (min-width: 1025px) {
  .container {
    padding: 0 var(--space-10);
  }

  /* Navegación completa */
  .nav-menu {
    display: flex;
  }

  .nav-toggle {
    display: none;
  }

  /* Layouts completos */
  .grid-5 {
    grid-template-columns: repeat(5, 1fr);
  }

  .grid-6 {
    grid-template-columns: repeat(6, 1fr);
  }

  /* Hero mejorado */
  .hero-layout {
    min-height: 70vh;
    align-items: center;
  }

  /* Sidebar sticky */
  .about-sidebar,
  .contact-info-sidebar,
  .service-sidebar {
    position: sticky;
    top: calc(var(--header-height) + var(--space-8));
  }

  /* Hover effects completos */
  .card:hover {
    transform: translateY(var(--hover-lift));
  }

  .btn:hover {
    transform: translateY(-2px);
  }

  /* Timeline completa */
  .timeline-marker {
    width: 60px;
    height: 60px;
  }

  .timeline-year {
    font-size: var(--text-sm);
  }
}

/* ===================================
   2XL DEVICES (1281px+)
   Desktop grande
   =================================== */

@media (min-width: 1281px) {
  .container {
    max-width: var(--container-2xl);
  }

  /* Tipografía expandida */
  .hero-title {
    font-size: var(--text-6xl);
  }

  .section-title {
    font-size: var(--text-4xl);
  }

  /* Espaciado generoso */
  .section {
    padding: var(--space-20) 0;
  }

  .section-lg {
    padding: var(--space-24) 0;
  }

  /* Hero expandido */
  .hero {
    padding: var(--space-24) 0 var(--space-20);
  }

  .hero-layout {
    min-height: 80vh;
  }

  /* Grids con más columnas cuando sea apropiado */
  .offices-grid {
    grid-template-columns: repeat(3, 1fr);
  }

  .news-grid {
    grid-template-columns: repeat(3, 1fr);
  }
}

/* ===================================
   ORIENTACIÓN Y ALTURA
   =================================== */

/* Landscape móviles */
@media (max-height: 500px) and (orientation: landscape) {
  .hero {
    padding: var(--space-8) 0;
  }

  .hero-layout {
    min-height: auto;
  }

  .page-hero {
    padding: calc(var(--header-height) + var(--space-4)) 0 var(--space-4);
  }

  .section {
    padding: var(--space-6) 0;
  }

  .timeline-marker {
    width: 30px;
    height: 30px;
  }
}

/* Altura muy pequeña */
@media (max-height: 400px) {
  .header {
    height: 60px;
  }

  .nav {
    height: 60px;
  }

  .brand-logo {
    height: 30px;
  }

  .back-to-top {
    width: 36px;
    height: 36px;
    font-size: var(--text-sm);
  }
}

/* ===================================
   DISPOSITIVOS CON HOVER
   =================================== */

@media (hover: hover) and (pointer: fine) {
  /* Efectos hover solo en dispositivos que los soportan */
  .card:hover {
    transform: translateY(var(--hover-lift));
    box-shadow: var(--shadow-xl);
  }

  .btn:hover {
    transform: translateY(-2px);
  }

  .nav-link:hover {
    transform: translateY(-1px);
  }

  .feature-icon:hover,
  .service-icon:hover,
  .value-icon:hover {
    transform: scale(1.1);
  }
}

@media (hover: none) and (pointer: coarse) {
  /* Dispositivos táctiles - hover reducido */
  .card:hover {
    transform: none;
    box-shadow: var(--shadow);
  }

  .btn:hover {
    transform: none;
  }

  .nav-link:hover {
    transform: none;
  }

  /* Aumentar áreas táctiles */
  .btn {
    min-height: 44px;
  }

  .nav-link {
    min-height: 44px;
  }

  .slider-btn {
    width: 50px;
    height: 50px;
  }

  .indicator {
    width: 16px;
    height: 16px;
  }
}

/* ===================================
   DENSIDAD DE PANTALLA
   =================================== */

/* Pantallas de alta densidad */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
  /* Ajustes para pantallas retina */
  .brand-logo {
    image-rendering: -webkit-optimize-contrast;
    image-rendering: crisp-edges;
  }

  /* Bordes más finos en pantallas de alta densidad */
  .card,
  .btn-outline,
  .form-input {
    border-width: 0.5px;
  }
}

/* ===================================
   MODO OSCURO PREPARACIÓN
   =================================== */

@media (prefers-color-scheme: dark) {
  /* Variables para modo oscuro */
  :root {
    --color-text: var(--neutral-100);
    --color-text-light: var(--neutral-300);
    --color-background: var(--neutral-900);
    --color-surface: var(--neutral-800);
  }

  /* Ajustes específicos para modo oscuro */
  .header {
    background: rgba(15, 23, 42, 0.95);
    border-bottom-color: var(--neutral-700);
  }

  .card {
    background: var(--neutral-800);
    border-color: var(--neutral-700);
  }

  .footer {
    background: var(--neutral-950);
  }
}

/* ===================================
   CONTENIDO ALTO CONTRASTE
   =================================== */

@media (prefers-contrast: high) {
  /* Mejoras de contraste */
  .btn {
    border-width: 2px;
  }

  .card {
    border-width: 2px;
  }

  .form-input,
  .form-select,
  .form-textarea {
    border-width: 2px;
  }

  /* Sombras más prominentes */
  .card:hover {
    box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
  }
}

/* ===================================
   MOVIMIENTO REDUCIDO
   =================================== */

@media (prefers-reduced-motion: reduce) {
  /* Eliminar animaciones para usuarios sensibles */
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }

  /* Eliminar transforms en hover */
  .card:hover,
  .btn:hover,
  .nav-link:hover {
    transform: none !important;
  }

  /* Mantener cambios de color y opacidad */
  .card:hover {
    box-shadow: var(--shadow-lg);
  }
}

/* ===================================
   TRANSPARENCIA REDUCIDA
   =================================== */

@media (prefers-reduced-transparency: reduce) {
  /* Eliminar transparencias para mejor legibilidad */
  .header {
    background: var(--color-surface);
    backdrop-filter: none;
  }

  .dropdown-menu {
    background: var(--color-surface);
  }

  .contact-option {
    background: var(--color-surface);
  }
}

/* ===================================
   AJUSTES PARA NAVEGADORES ESPECÍFICOS
   =================================== */

/* Safari iOS */
@supports (-webkit-touch-callout: none) {
  /* Ajustes específicos para Safari iOS */
  .hero {
    min-height: calc(100vh - var(--header-height));
  }

  /* Fix para vh en móviles */
  .hero-layout {
    min-height: calc(70vh - var(--header-height));
  }
}

/* Firefox */
@-moz-document url-prefix() {
  /* Ajustes específicos para Firefox */
  .dropdown-menu {
    scrollbar-width: thin;
  }
}

/* ===================================
   LANDSCAPE ESPECÍFICO PARA TABLETS
   =================================== */

@media (min-width: 769px) and (max-width: 1024px) and (orientation: landscape) {
  .hero-layout {
    grid-template-columns: 1fr 1fr;
    min-height: 60vh;
  }

  .contact-layout {
    grid-template-columns: 1fr 1fr;
  }

  .service-detail-layout {
    grid-template-columns: 1fr 1fr;
  }
}

/* ===================================
   CONTENEDORES ESPECÍFICOS
   =================================== */

/* Container queries preparación */
@container (max-width: 400px) {
  .card-title {
    font-size: var(--text-base);
  }
}

/* ===================================
   UTILIDADES RESPONSIVAS
   =================================== */

/* Ocultar en móviles */
@media (max-width: 768px) {
  .hidden-mobile {
    display: none !important;
  }
}

/* Ocultar en desktop */
@media (min-width: 1025px) {
  .hidden-desktop {
    display: none !important;
  }
}

/* Mostrar solo en móviles */
.mobile-only {
  display: block;
}

@media (min-width: 769px) {
  .mobile-only {
    display: none !important;
  }
}

/* Mostrar solo en desktop */
.desktop-only {
  display: none;
}

@media (min-width: 1025px) {
  .desktop-only {
    display: block;
  }
}

/* ===================================
   SISTEMA DE NOTIFICACIONES
   Agregar al final de 07-responsive.css
   =================================== */

.notification-container {
  position: fixed;
  top: var(--space-4);
  right: var(--space-4);
  z-index: var(--z-toast);
  display: flex;
  flex-direction: column;
  gap: var(--space-2);
  max-width: 400px;
  pointer-events: none;
}

.notification {
  background: var(--color-surface);
  border: var(--border-width-1) solid var(--color-border);
  border-radius: var(--border-radius-lg);
  box-shadow: var(--shadow-xl);
  opacity: 0;
  transform: translateX(100%);
  transition: all var(--duration-300) var(--ease-out);
  pointer-events: auto;
  min-width: 300px;
  max-width: 400px;
}

.notification.notification-enter {
  opacity: 1;
  transform: translateX(0);
}

.notification.notification-exit {
  opacity: 0;
  transform: translateX(100%);
}

.notification-content {
  display: flex;
  align-items: flex-start;
  padding: var(--space-4);
  gap: var(--space-3);
}

.notification-message {
  flex-grow: 1;
  color: var(--color-text);
  font-size: var(--text-sm);
  line-height: var(--leading-relaxed);
}

.notification-close {
  background: none;
  border: none;
  color: var(--color-text-muted);
  cursor: pointer;
  padding: var(--space-1);
  border-radius: var(--border-radius);
  transition: var(--transition-colors);
  flex-shrink: 0;
}

.notification-close:hover {
  color: var(--color-text);
  background: var(--neutral-100);
}

.notification-success {
  border-left: 4px solid var(--color-success);
}

.notification-error {
  border-left: 4px solid var(--color-error);
}

.notification-warning {
  border-left: 4px solid var(--color-warning);
}

.notification-info {
  border-left: 4px solid var(--color-info);
}

@media (max-width: 480px) {
  .notification-container {
    top: var(--space-2);
    right: var(--space-2);
    left: var(--space-2);
    max-width: none;
  }
  
  .notification {
    min-width: auto;
    max-width: none;
  }
}